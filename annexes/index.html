<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>4. Annexes - Analyse des génomes 2022</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "4. Annexes";
        var mkdocs_page_input_path = "annexes.md";
        var mkdocs_page_url = null;
      </script>
    
    <script src="../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> Analyse des génomes 2022
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Accueil</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../srna/">1. Petits ARN</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../rnaseq/">2. RNAseq</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../igv/">3. IGV</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="./">4. Annexes</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#commandes-du-programme-screen">Commandes du programme screen</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#gestion-du-serveur-galaxy">Gestion du serveur Galaxy</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#modifier-le-type-des-donnees">Modifier le type des données</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#resoudre-les-problemes-daffichage-html-dans-galaxy">Résoudre les problèmes d'affichage HTML dans Galaxy</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#copier-des-fichiers-entre-historiques">Copier des fichiers entre historiques</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#partage-de-fichiers-dans-galaxy">Partage de fichiers dans Galaxy</a>
    </li>
    </ul>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">Analyse des génomes 2022</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" alt="Docs"></a> &raquo;</li>
      <li>4. Annexes</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="4-annexes">4. Annexes</h1>
<p>Cette page regroupe différentes solutions utilisées dans Galaxy au cours des travaux pratiques </p>
<hr />
<h2 id="commandes-du-programme-screen">Commandes du programme screen</h2>
<p>Screen est un programme linux utile qui crée, attache, détache ou rattache des sessions shell "virtuelles". Screen permet d'exécuter des processus linux simultanés dans des environnements isolés qui peuvent être mis en arrière-plan tout en travaillant avec la console à d'autres tâches.</p>
<p>Commandes utiles :</p>
<ul>
<li><code>screen -ls</code> liste toutes les sessions screen disponibles, attachées (actuellement actives) ou détachées en arrière-plan ;</li>
<li><code>screen -r &lt;session&gt;</code> rattache une session écran détachée ;</li>
<li><code>CtrlA puis D</code> détache la session active ;</li>
<li>Tapez <code>exit</code> pour mettre fin à la session active ;</li>
<li><code>screen -S &lt;session&gt;</code> crée une nouvelle session.</li>
</ul>
<hr />
<h2 id="gestion-du-serveur-galaxy">Gestion du serveur Galaxy</h2>
<ul>
<li><code>galaxyctl status</code> donne l'état du serveur galaxy ;</li>
<li><code>galaxyctl start</code> si d'aventure le serveur galaxy est arrêté, mais cela ne devrait pas arriver ;</li>
<li><code>galaxyctl stop</code> pour arrêter le serveur, mais il n'y a en principe pas de raison de le faire ;</li>
<li><code>galaxyctl restart</code> pour redémarrer le serveur, utile si besoin de mettre à jour des références, des changements de préférence, etc. </li>
</ul>
<p>Au redémarrage d'une machine virtuelle (VM) suspendue, on retrouve Galaxy dans l'état où il était lors de sa suspension. À noter cependant que si on suspend la VM au milieu d'un job Galaxy en exécution cela mettra le job en question en erreur.</p>
<hr />
<h2 id="modifier-le-type-des-donnees">Modifier le type des données</h2>
<p>Il peut arriver qu'un fichier, pourtant présent dans votre historique, ne soit pas visible en entrée d'un outil Galaxy. Par exemple il peut arriver que le fichier fastq que vous avez chargé dans votre historique n’apparait pas comme disponible dans l’outil Bowtie.</p>
<p>Pour régler ce problème, vous devez réaliser une conversion du type de fichier. L’outil attend un fichier au format fastqsanger et il est pour le moment seulement fastq.gz. </p>
<p>Pour changer le type d’un fichier, il faut cliquer sur l’icône en forme de crayon. Puis aller dans l’onglet « Datatype ».</p>
<p><img alt="Changer le type des données" src="../img/annexes/change_datatype1.png" title="Changer le type des données" /></p>
<p>Dans le menu déroulant remplacer « fastq.gz », le type actuel, par « fastqsanger.gz ». Puis cliquer sur "Changer le format des données"</p>
<p><img alt="Changer le type des données" src="../img/annexes/change_datatype2.png" title="Changer le type des données" /></p>
<hr />
<h2 id="resoudre-les-problemes-daffichage-html-dans-galaxy">Résoudre les problèmes d'affichage HTML dans Galaxy</h2>
<p>Il est possible que les sorties de certains outils ne s'affichent pas dans Galaxy comme par exemple FastQC.</p>
<p>Pour les afficher il faut les autoriser spécifiquement :</p>
<ol>
<li>Aller dans le menu "Admin"</li>
<li>Puis "Tool Management" et choisir "Gérer la liste autorisée d'outils graphiques"</li>
<li>Rechercher "FastQC" dans la liste, cliquer sur n'importe quelle case de la ligne. Elle va disparaître et s'afficher dans l'onglet "HTML Rendered"</li>
</ol>
<p><img alt="Whitelist" src="../img/annexes/whitelist.png" title="Autoriser l'affichage HTML" /></p>
<p>Ce système protège l'injection de code dans les pages HTML.</p>
<hr />
<h2 id="copier-des-fichiers-entre-historiques">Copier des fichiers entre historiques</h2>
<p>Pour utiliser dans votre historique actuel un fichier situé dans un autre historique il faut procéder de la façon suivante :</p>
<ol>
<li>Choisir "Copier les jeux de données" depuis le menu "roue crantée" en haut à droite</li>
<li>Sélectionner les fichiers qui vous intéressent depuis l'historique source vers l'historique de destination, vous pouvez aussi indiquer le nom d'un nouvel historique</li>
<li>Cliquez sur "Copy History Items"</li>
</ol>
<p><img alt="Copie entre historiques" src="../img/annexes/data_copie.png" title="Copie de données entre historiques" /></p>
<hr />
<h2 id="partage-de-fichiers-dans-galaxy">Partage de fichiers dans Galaxy</h2>
<p>Pour partager un historique, il faut tout d'abord sélectionner « Partager et Publier » dans le menu de la roue crantée en haut à droite puis choisir « Make History Accessible ».</p>
<p><img alt="Partage d'historique" src="../img/annexes/history_share.png" title="Partage d'historique" /></p>
<p>Retournez de nouveau dans le menu de la roue crantée et cliquer sur « Exporter l’historique dans un fichier » dans le sous-menu « Télécharger ». Choisir "to a link" et cliquer sur "Click here to to generate a new archive for this history".</p>
<p><img alt="Export d'historique" src="../img/annexes/history_export.png" title="Export d'historique" /></p>
<p>Il faut alors cliquer sur le lien qui s'affiche dans la partie centrale pour récupérer l'archive de l'historique (.tar.gz) en local.</p>
<p><img alt="URL de l'historique" src="../img/annexes/history_url.png" title="URL de l'historique" /></p>
<p>Pour importer un historique partagé, allez dans le menu "User" puis choisir "Histories". Cliquer sur "Import from file".</p>
<p><img alt="Import d'historique" src="../img/annexes/history_import.png" title="Import d'historique" /></p>
<p>Sélectionnez "Upload local file from your computer", cliquez sur "Browse" pour choisir l'emplacement du fichier puis sur "Import history".</p>
<p><img alt="Import d'historique" src="../img/annexes/history_upload.png" title="Import d'historique" /></p>
<p>Une fois importé, pensez à le renommer pour lui donner un nom plus explicite.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../igv/" class="btn btn-neutral float-left" title="3. IGV"><span class="icon icon-circle-arrow-left"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../igv/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
  </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme_extra.js" defer></script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
